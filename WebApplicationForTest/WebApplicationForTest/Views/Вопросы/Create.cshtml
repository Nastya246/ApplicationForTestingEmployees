@model WebApplicationForTest.Models.Вопросы

@{
    ViewBag.Title = "Добавить вопрос";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div>
<link href='@Url.Content("~/Content/themes/base/all.css")' rel="stylesheet" type="text/css" />
<script src='@Url.Content("~/Scripts/jquery-ui-1.12.1.min.js")' type="text/javascript"></script>

<h2>Добавить вопрос в тест</h2>
<p>
    @Html.ActionLink("К списку вопросов", "Index", new { topic = @ViewBag.Тест, redactor = "redactor" })

    @Html.ActionLink("К списку тем", "Index", "Тесты", new { razdel = @ViewBag.Раздел, redactor = "redactor" }, null)
    @Html.ActionLink("К списку разделов", "Index", "Разделы", new { redactor = "redactor" }, null)
</p>
<p>
    <big>
        <ul>
            <li>
                "Выбор" - вопрос с несколькими вариантами ответов, из которых лишь один верный. <br />
            </li>
            <li>  "Ввод" - вопрос с ответом в свободной форме, варианты ответов для этого типа не указываются. <br /></li>
            <li>  "Несколько" - вопрос с несколькими вариантами ответов, из которых несколько вариантов правильны.<br /> </li>
            <li>
                "Разрыв" - вопрос с пропущенными словами в тексте. При вводе текста в поле "Текст Вопроса" на месте пропуска слова введите "...". В правильных ответах укажите правильные варианты по их порядку в тексте через запятую, остальные поля не заполняются <br />
            </li>
            <li>
                "Соотношение" - вопрос, где требуется соотнести понятия. В поле "Правильный ответ" укажите ответы в верном порядке через запятую. Например, вопрос "Соотнесите страны и города", в поле "Варианты понятий" введите "Россия, Франция, Китай", тогда поле "Правильный ответ" - "Москва, Париж, Пекин", остальные поля не заполняются<br />
            </li>
        </ul>
    </big>
</p>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    <input type="hidden" value="redactor" name=redactor />
    <input id="id_Теста" name="id_Теста" type="hidden" value=@ViewBag.Тест class="form-control" />
    <div class="form-horizontal">
        <h4>Вопросы</h4>

        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })

        <div class="form-group">
            @Html.LabelFor(model => model.Тип_ответа, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">

                <select id="Тип_ответа" name="Тип_ответа">
                    <option value="--Выбор типа вопроса--">--Выбор типа вопроса--</option>
                    <option value="Выбор">Выбор</option>
                    <option value="Ввод">Ввод</option>
                    <option value="Несколько">Несколько</option>
                    <option value="Разрыв">Разрыв</option>
                    <option value="Соотношение">Соотношение</option>

                </select>

            </div>
        </div>


        <div class="form-group">
            @Html.LabelFor(model => model.Текст_вопроса, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Текст_вопроса, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Текст_вопроса, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="c">
            <div class="form-group">
                @Html.Label("Варианты понятий (через запятую, только для типа \"Соотношение\"):")
                <div class="col-md-10">
                    <input type="text" id="def" name="def" size="40" disabled="disabled"/>
                </div>
            </div>
            <div class="form-group">
                @Html.Label("Варианты ответов (через запятую):")
                <div class="col-md-10">
                    <input type="text" id="variant" name="variant" size="40" disabled="disabled" />
                </div>
            </div>

            <div class="form-group">
                @Html.Label("Правильный ответ/ответы (через запятую):")
                <div class="col-md-10">
                    <input type="text" id="correct" name="correct" size="40" disabled="disabled" />
                </div>
            </div>
        </div>


            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Добавить" class="btn btn-default" />
                </div>
            </div>
        </div>
        }

        <div>

            <form method="post" action="~/Home/Menu">
                <input type="hidden" value="redactor" name="Login" />
                <input type="hidden" value="redactor12345" name="Password" />
                <input type="submit" value="В меню" />

            </form>
        </div>
        @section Scripts {
            @Scripts.Render("~/bundles/jqueryval")
            <script type="text/javascript">
        $(function () {

           $('#Тип_ответа').change(function()
        {
            // получаем выбранное значение
            var id = $(this).val();
                     $.ajax({
                type: 'GET',
                url: '@Url.Action("GetElement")/' + id,
                success: function (data) {

                    // заменяем содержимое присланным частичным представлением
                   // $('#def').replaceWith(data);
                    $("div.c").replaceWith(data);

                }
            });
        });
        })


            </script>
        }
    </div>
